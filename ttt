const { Client, GatewayIntentBits, REST, Routes } = require('discord.js');

// Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØª Ø¯Ø§Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø¨Ø§Ø´Ø±Ø©
const config = {
    token: "MTMwODU2MTE0NjgwMTgxNTYxNA.GIaWWi.glv3U6SJG6ovaCuxCIHV05_3BWL8jlP2qgEGM4",  // Ø¶Ø¹ ØªÙˆÙƒÙ† Ø§Ù„Ø¨ÙˆØª Ù‡Ù†Ø§
    clientId: "1308561146801815614"    // Ø¶Ø¹ Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ø¨ÙˆØª Ù‡Ù†Ø§
};

const client = new Client({
    intents: [
        GatewayIntentBits.Guilds,
        GatewayIntentBits.GuildMessages,
        GatewayIntentBits.MessageContent
    ]
});

// Ø§Ù„Ø£Ø°ÙƒØ§Ø±ØŒ Ø§Ù„Ø¢ÙŠØ§ØªØŒ Ø§Ù„Ø£Ø­Ø§Ø¯ÙŠØ«ØŒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø¯ÙŠÙ†ÙŠØ©ØŒ ÙˆØ§Ù„Ø£Ø¯Ø¹ÙŠØ©
const Ø§Ø°ÙƒØ§Ø± = [
    "ğŸŒŸ **Ø³ÙØ¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡** ğŸŒŸ",
    "ğŸ•‹ **Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯ ÙˆØ¢Ù„ Ù…Ø­Ù…Ø¯** ğŸ•‹",
    "ğŸ’ **Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ØŒ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±** ğŸ’",
    "ğŸŒ¿ **Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø§Ù„Ùƒ Ø¹Ù„Ù…Ø§Ù‹ Ù†Ø§ÙØ¹Ø§ ÙˆØ±Ø²Ù‚Ø§Ù‹ Ø·ÙŠØ¨Ø§Ù‹** ğŸŒ¿",
    "âœ¨ **Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡** âœ¨"
];

const Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ© = [
    "ğŸ“– **Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù Ø§Ù„Ø±Ù‘ÙØ­Ù’Ù…ÙÙ†Ù Ø§Ù„Ø±Ù‘ÙØ­ÙÙŠÙ…Ù** \nØ§Ù„Ù’Ø­ÙÙ…Ù’Ø¯Ù Ù„ÙÙ„Ù‘ÙÙ‡Ù Ø±ÙØ¨Ù‘Ù Ø§Ù„Ù’Ø¹ÙØ§Ù„ÙÙ…ÙÙŠÙ†Ù ğŸ“–",
    "ğŸ“œ **Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙ Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø£ÙØ­ÙØ¯ÙŒ** \nØ§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„ØµÙÙ‘Ù…ÙØ¯Ù ğŸ“œ",
    "ğŸŒ™ **Ø¥ÙÙ†ÙÙ‘ Ù…ÙØ¹Ù Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§** ğŸŒ™",
    "ğŸŒ¿ **ÙˆÙØ£ÙÙ†Ù’Ø°ÙØ±Ù’Ù‡ÙÙ…Ù’ ÙŠÙÙˆÙ’Ù…Ù Ø§Ù„Ù’Ø­ÙØ³Ù’Ø±ÙØ©Ù** ğŸŒ¿",
    "ğŸ•Šï¸ **Ø¥ÙÙ†ÙÙ‘ Ø§Ù„Ù„ÙÙ‘Ù‡Ù ÙŠÙØ­ÙØ¨ÙÙ‘ Ø§Ù„ØªÙÙ‘ÙˆÙØ§Ø¨ÙÙŠÙ†Ù** ğŸ•Šï¸"
];

const Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡ = [
    "ğŸ”Š **Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:** 'Ù…Ù† Ù„Ø§ ÙŠØ´ÙƒØ± Ø§Ù„Ù†Ø§Ø³ Ù„Ø§ ÙŠØ´ÙƒØ± Ø§Ù„Ù„Ù‡.' ğŸ”Š",
    "ğŸ”” **Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:** 'Ù…Ù† Ù„Ø§ ÙŠØ¤Ù…Ù† Ø¨Ù‚Ø¯Ø± Ø§Ù„Ù„Ù‡ØŒ ÙÙ‚Ø¯ ÙƒÙØ±.' ğŸ””",
    "ğŸŒŸ **Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:** 'Ø§Ù„Ø¯ÙŠÙ† Ø§Ù„Ù†ØµÙŠØ­Ø©.' ğŸŒŸ",
    "ğŸ’¬ **Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:** 'Ø£Ø­Ø¨ Ø§Ù„Ù†Ø§Ø³ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ù†ÙØ¹Ù‡Ù….' ğŸ’¬",
    "ğŸ“š **Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…:** 'Ø¥Ù†Ù…Ø§ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø¨Ø§Ù„Ù†ÙŠØ§Øª.' ğŸ“š"
];

const Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ© = [
    { question: "ğŸ¤” **Ù…Ø§ Ù‡Ùˆ Ø£ÙˆÙ„ ÙƒØªØ§Ø¨ Ù†Ø²Ù„ Ø¹Ù„Ù‰ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù…ØŸ**", answer: "Ø§Ù„Ù‚Ø±Ø¢Ù†" },
    { question: "ğŸŒ™ **Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ø°ÙŠ Ù†Ø²Ù„ ÙÙŠÙ‡ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ**", answer: "Ø±Ù…Ø¶Ø§Ù†" },
    { question: "ğŸŒŸ **Ù…Ù† Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ù† Ø£Ø³Ù„Ù… Ù…Ù† Ø§Ù„ØµØ­Ø§Ø¨Ø©ØŸ**", answer: "Ø£Ø¨Ùˆ Ø¨ÙƒØ± Ø§Ù„ØµØ¯ÙŠÙ‚" },
    { question: "ğŸ•Œ **ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø³ÙˆØ± ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ**", answer: "114 Ø³ÙˆØ±Ø©" }
];

const Ø£Ø¯Ø¹ÙŠØ© = [
    "ğŸŒ¹ **Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†Ø§ Ù…Ù† Ø£Ù‡Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŒ Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ÙŠØ±ÙˆÙ† Ø¹Ù„Ù‰ Ù‡Ø¯ÙŠÙ‡.** ğŸŒ¹",
    "ğŸ•Šï¸ **Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø¹ÙˆØ° Ø¨Ùƒ Ù…Ù† Ø§Ù„ÙÙ‚Ø± Ø¥Ù„Ø§ Ø¥Ù„ÙŠÙƒØŒ ÙˆÙ…Ù† Ø§Ù„Ø°Ù„ Ø¥Ù„Ø§ Ù„Ùƒ.** ğŸ•Šï¸",
    "ğŸ’« **Ø§Ù„Ù„Ù‡Ù… Ø§Ø¬Ø¹Ù„Ù†Ø§ Ù…Ù† Ø§Ù„Ø°ÙŠÙ† ÙŠØ³ÙŠØ±ÙˆÙ† ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ Ù‡Ø¯ÙˆØ¡Ù‹Ø§ ÙˆØ³ÙƒÙŠÙ†Ø©.** ğŸ’«",
    "ğŸŒ¸ **Ø§Ù„Ù„Ù‡Ù… Ø§Ø±Ø²Ù‚Ù†Ø§ Ù…Ù† ÙØ¶Ù„Ùƒ ÙˆØ±Ø­Ù…ØªÙƒ.** ğŸŒ¸",
    "ğŸŒŸ **Ø§Ù„Ù„Ù‡Ù… Ø¢Ù…ÙŠÙ†ØŒ Ø§Ø¬Ø¹Ù„Ù†Ø§ Ù…Ù† Ø£Ù‡Ù„ Ø§Ù„Ø¬Ù†Ø©.** ğŸŒŸ"
];

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¨Ø´ÙƒÙ„ Ø¹Ø§Ù„Ù…ÙŠ (Ù„ÙƒÙ„ Ø§Ù„Ø®ÙˆØ§Ø¯Ù…)
const commands = [
    {
        name: 'Ø§Ø°ÙƒØ§Ø±',
        description: 'ğŸ“ *Ø£Ø±Ø³Ù„ Ø°ÙƒØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸ“'
    },
    {
        name: 'Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ©',
        description: 'ğŸ“œ *Ø£Ø±Ø³Ù„ Ø¢ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©* ğŸ“œ'
    },
    {
        name: 'Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡',
        description: 'ğŸ”” *Ø£Ø±Ø³Ù„ Ø­Ø¯ÙŠØ« Ù†Ø¨ÙˆÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸ””'
    },
    {
        name: 'Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ©',
        description: 'â“ *Ø£Ø±Ø³Ù„ Ø³Ø¤Ø§Ù„ Ø¯ÙŠÙ†ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* â“'
    },
    {
        name: 'Ø£Ø¯Ø¹ÙŠØ©',
        description: 'ğŸŒ¸ *Ø£Ø±Ø³Ù„ Ø¯Ø¹Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸŒ¸'
    },
    {
        name: 'help',
        description: 'ğŸ†˜ *Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª* ğŸ†˜'
    }
];

const rest = new REST({ version: '10' }).setToken(config.token);

(async () => {
    try {
        console.log('Ø¨Ø¯Ø£ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹');

        // Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ Ù„Ù„Ø£ÙˆØ§Ù…Ø±
        await rest.put(
            Routes.applicationCommands(config.clientId),
            { body: commands },
        );

        console.log('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø¨Ù†Ø¬Ø§Ø­');
    } catch (error) {
        console.error(error);
    }
})();

// Ø§Ù„Ø­Ø¯Ø« Ø¹Ù†Ø¯Ù…Ø§ ÙŠÙƒÙˆÙ† Ø§Ù„Ø¨ÙˆØª Ø¬Ø§Ù‡Ø²Ø§Ù‹
client.once('ready', () => {
    console.log(`ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙƒÙ€ ${client.user.tag}`);
});

// Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø£ÙˆØ§Ù…Ø±
client.on('interactionCreate', async interaction => {
    if (!interaction.isCommand()) return;

    const { commandName } = interaction;

    if (commandName === 'Ø§Ø°ÙƒØ§Ø±') {
        const randomAzkar = Ø§Ø°ÙƒØ§Ø±[Math.floor(Math.random() * Ø§Ø°ÙƒØ§Ø±.length)];
        await interaction.reply(`${randomAzkar}`);
    } else if (commandName === 'Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ©') {
        const randomAyah = Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ©[Math.floor(Math.random() * Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ©.length)];
        await interaction.reply(`${randomAyah}`);
    } else if (commandName === 'Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡') {
        const randomHadith = Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡[Math.floor(Math.random() * Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡.length)];
        await interaction.reply(`${randomHadith}`);
    } else if (commandName === 'Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ©') {
        // Ø§Ø®ØªØ± Ø³Ø¤Ø§Ù„ Ø¯ÙŠÙ†ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
        const randomQuestion = Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ©[Math.floor(Math.random() * Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ©.length)];

        // Ø£Ø±Ø³Ù„ Ø§Ù„Ø³Ø¤Ø§Ù„ ÙÙ‚Ø· Ø¯ÙˆÙ† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        await interaction.reply(`${randomQuestion.question}\n**â³ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø±Ø¯ Ø¨Ø¥Ø¬Ø§Ø¨ØªÙƒ Ø®Ù„Ø§Ù„ 10 Ø«ÙˆØ§Ù†ÙŠ**`);

        // Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù„Ø±Ø¯ Ø§Ù„Ø´Ø®Øµ
        const filter = response => response.author.id === interaction.user.id; // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø£Ù† Ø§Ù„Ø±Ø¯ Ù…Ù† Ù†ÙØ³ Ø§Ù„Ø´Ø®Øµ
        const collected = await interaction.channel.awaitMessages({
            filter,
            max: 1,  // Ø§Ù†ØªØ¸Ø§Ø± Ø¥Ø¬Ø§Ø¨Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·
            time: 10000, // Ø§Ù†ØªØ¸Ø± 10 Ø«ÙˆØ§Ù†ÙŠ Ù„Ù„Ø±Ø¯
            errors: ['time'],
        }).catch(() => {
            interaction.followUp('â³ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø¯Ø©! Ù„Ù… ÙŠØªÙ… ØªÙ„Ù‚ÙŠ Ø¥Ø¬Ø§Ø¨Ø©.');
        });

        if (collected) {
            const userAnswer = collected.first().content.trim().toLowerCase();
            const correctAnswer = randomQuestion.answer.toLowerCase();

            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            if (userAnswer === correctAnswer) {
                await interaction.followUp('âœ… **Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©!**');
            } else {
                await interaction.followUp('âŒ **Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©!**');
            }
        } else {
            // Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø© Ø¨Ø¯ÙˆÙ† Ø¥Ø¬Ø§Ø¨Ø©
            await interaction.followUp('âŒ **Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ù‡Ù„Ø©! Ù„Ù… ÙŠØªÙ… ØªÙ„Ù‚ÙŠ Ø¥Ø¬Ø§Ø¨Ø©.**');
        }
    } else if (commandName === 'Ø£Ø¯Ø¹ÙŠØ©') {
        const randomDua = Ø£Ø¯Ø¹ÙŠØ©[Math.floor(Math.random() * Ø£Ø¯Ø¹ÙŠØ©.length)];
        await interaction.reply(`${randomDua}`);
    } else if (commandName === 'help') {
        const helpMessage = `
        ğŸ†˜ **Ù‚Ø§Ø¦Ù…Ø© Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª** ğŸ†˜
        1. **/Ø§Ø°ÙƒØ§Ø±** - ğŸ“ *Ø£Ø±Ø³Ù„ Ø°ÙƒØ± Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸ“
        2. **/Ø¢ÙŠØ§Øª_Ù‚Ø±Ø¢Ù†ÙŠØ©** - ğŸ“œ *Ø£Ø±Ø³Ù„ Ø¢ÙŠØ© Ù‚Ø±Ø¢Ù†ÙŠØ© Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©* ğŸ“œ
        3. **/Ø£Ø­Ø§Ø¯ÙŠØ«_Ù†Ø¨ÙˆÙŠÙ‡** - ğŸ”” *Ø£Ø±Ø³Ù„ Ø­Ø¯ÙŠØ« Ù†Ø¨ÙˆÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸ””
        4. **/Ø£Ø³Ø¦Ù„Ø©_Ø¯ÙŠÙ†ÙŠØ©** - â“ *Ø£Ø±Ø³Ù„ Ø³Ø¤Ø§Ù„ Ø¯ÙŠÙ†ÙŠ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* â“
        5. **/Ø£Ø¯Ø¹ÙŠØ©** - ğŸŒ¸ *Ø£Ø±Ø³Ù„ Ø¯Ø¹Ø§Ø¡ Ø¹Ø´ÙˆØ§Ø¦ÙŠ* ğŸŒ¸
        6. **/help** - ğŸ†˜ *Ø¹Ø±Ø¶ Ø¬Ù…ÙŠØ¹ Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª* ğŸ†˜
        `;

        await interaction.reply(helpMessage);
    }
});

// ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
client.login(config.token);
